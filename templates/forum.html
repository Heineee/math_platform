<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>讨论区</title>
    <link rel="stylesheet" href="/static/css/forum.css"> <!-- 引入CSS文件 -->
{#          <link rel="stylesheet" href="/static/css/jquery-ui-1.10.3.custom.min.css" />#}
{#    <link rel="stylesheet" href="/static/css/entypo.css" />#}
{#    <link rel="stylesheet" href="/static/css/css.css" />#}
{#    <link rel="stylesheet" href="/static/css/bootstrap.css" />#}
{#    <link rel="stylesheet" href="/static/css/neon-core.css" />#}
{#    <link rel="stylesheet" href="/static/css/neon-theme.css" />#}
{#    <link rel="stylesheet" href="/static/css/neon-forms.css" />#}
{#    <link rel="stylesheet" href="/static/css/custom.css" />#}
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="logo">
                <img src="/static/picture/logo.png" alt="Logo" width="100">
                <div class="title-container"> <!-- 新的容器 -->
                    <h1 class="site-name">Mathnexus</h1> <!-- 大标题 -->
                    <h3 class="subtitle">COMPUTING, EXERCISE AND COMMUNICATION</h3> <!-- 小标题 -->
                </div>
            </div>
            <ul class="nav-links">
                <li><a href="/myApp/homepage/">主页</a></li>
                <li class="dropdown">
                    <a href="/myApp/matrix_compute/" class="dropbtn">科学计算器</a>
                    <div class="dropdown-content">
                        <a href="/myApp/function_progress/">微积分</a>
                        <a href="/myApp/plot/">绘图</a>
                        <a href="/myApp/matrix_compute/">矩阵计算</a>
                    </div>
                </li>
                <li><a href="/myApp/challenges/">刷题挑战</a></li>
                <li><a href="/myApp/forum/">讨论区</a></li>
                <li><a href="/myApp/trending/">热门榜</a></li>
                <li><a href="/myApp/resources/">其他相关网站</a></li>
                <li><a href="/myApp/profile/">个人中心</a></li>
            </ul><br>
        </nav>
    </header>

    <div class="container">
        <div class="welcome-message">
            <h2>欢迎来到Mathnexus，数学爱好者的家园！</h2>
            <p>在这里，我们相信数学不仅仅是数字和公式的堆砌，它是一种探索世界的语言，一种解决问题的工具，一种激发创造力的艺术。无论你是学生、教师、研究人员还是纯粹的数学爱好者，Mathnexus都是你分享知识、交流思想、解决难题的理想平台。</p>
            <h3>探索数学的无限可能：</h3>
            <ul>
                <li>参与讨论：加入我们的讨论区，无论是基础算术还是高等数学，你都能找到志同道合的朋友。</li>
                <li>分享知识：发布你的见解，分享你的学习资源，帮助他人同时也提升自己。</li>
                <li>挑战自我：参与我们的数学挑战，测试你的技能，享受解决问题的乐趣。</li>
                <li>学习成长：利用我们的学习资源，无论是视频教程还是精选书籍，都能助你一臂之力。</li>
            </ul>
            <p>我们鼓励：<br>
                尊重与包容：尊重每个人的观点，无论他们的经验或背景如何。<br>
                互助合作：在解决问题时互相帮助，共同进步。<br>
                持续学习：不断探索新知识，保持好奇心。<br>
            </p>
            <p>记住，数学是一场旅程，而不仅仅是一个目的地。</p>
        </div>
         <div class="col-md-12"  >
            {% for i in c_page %}
{#                增添边框，同时添加阴影#}
            <div class="member-entry" style="border: 1px solid #e0e0e0; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); padding: 20px; margin-bottom: 20px;">

              <div class="member-details" >
                <h4>
                <div class="col-sm-4">
                    <i class="entypo-briefcase"></i>
                    标题:
                    {{ i.title }}
                  </div>
                  <div>
                  内容：
                    {% if i.text|length > 200 %} {{ i.text|slice:":200" }}......
                    {%else %} {{ i.text }} {% endif %}</div>
                </h4>

                <!-- Details with Icons -->
                <div class="row info-list">
                  <div class="col-sm-4">
                    <i class="entypo-briefcase"></i>
                    发布时间:{{ i.date }}
                  </div>

                  <div class="col-sm-4">
                    <i class="entypo-twitter"></i>
                    点赞:{{i.likes}} 
                  </div>

                  <div class="col-sm-4">
                    <i class="entypo-facebook"></i>
                    
                    反对:{{ i.dislikes }}
                      
                  </div>

                  <div class="clear"></div>

                  <div class="col-sm-4">
                    <i class="entypo-location"></i>
{#                    保留两位小数#}
                      好评率: {{ i.rate | floatformat:2 }}%
{#                      ({{ i.likes|add:i.dislikes }} * 100)% {% else %} 好评率:0%#}
{#                      {% endif %}#}
                  </div>

                  <div class="col-sm-4">
                    <i class="entypo-mail"></i>
                    浏览量:{{ i.viewers }}
                  </div>

                  <div class="col-sm-4">
                    <i class="entypo-linkedin"></i>
                    {% if i.recommended_developer %} 开发者推荐 {% else %}
                      开发者未推荐 {% endif %}
                  </div>
                
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
    </div>


<div class="container">
    <div class="comment-input">
        <div class="avatar"></div>
        <textarea id="commentInput" class="text-area" placeholder="请输入您要评论的内容..."></textarea>
{#        <button class="submit-btn" onclick="postComment()">提交</button>#}
        <button class="submit-btn" >提交</button>
        </div>

    <div id="commentsSection"></div>
</div>

<footer>
    <div class="footer-content">
        <p>探索知识的无限可能，尽在我们的网站。无论是通过科学计算器解决复杂数学问题，还是在刷题挑战中提升解题技能，我们提供全面的学习工具。加入我们的讨论区，与志同道合的朋友交流思想，共同进步。关注热门榜，把握最新的学习动态和趋势。拓展视野，通过其他相关网站发现更多资源。最后，不要忘记访问您的个人中心，管理您的学习旅程和成就。我们致力于构建一个互动、互助的学习环境，让您的每一次访问都充满价值。</p>
        <p>&copy; Mathnexus designed by Double JI</p>
    </div>
</footer>
<script>
     function fetchData(url, data) {
  return fetch(url, {
    method: "POST",
    headers: {
      "Content-Type": "application/json;charset=utf-8",
    },
    body: JSON.stringify(data),
  });
}
    let submit=document.querySelector('.submit-btn');
    submit.addEventListener('click',async ()=>{
        let comment=document.querySelector('.text-area').value;
        const body={comment};
        const response=await fetchData('/myApp/forum/',body);
        const data = await response.json();

         if (data.success === 1) {
        Swal.fire({
      title: "提交成功",
      icon: "success",
      confirmButtonText: "确定",
    });
    } });
    
</script>

<script src="/static/js/forum.js"></script> <!-- 引入JavaScript文件 -->
</body>
</html>
